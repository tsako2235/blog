---
title: "とりあえず今時なJavaScriptの構成とか理解したい"
date: 2018-12-31T17:10:39+09:00
draft: false
---

# 目的：今時なJavaScriptを理解して使えるようになりたい

とりあえずはやりに乗ろうと Vue.jsなどの書籍を買ってみる。

あ、これあかん、まず単語の擦り合わせからや、  
至るところにSPAという単語があるが、これ何だろ？  
知っているかもしれないが、意識せず使ってきた何かの技術名称か？  
そういうのがよくある、いけない  

ちなみに私は、SPAを聞くとどちらかというと高級ビジネス誌SPA!を思い浮かべる程度

これはいけない

# 知識の整理

ちょっと古めのJavaにおけるサーバサイドエンジニアが一般的に  
思い浮かべるWebアプリケーションの構成とは、  
どういったものだろう…自分が思い浮かべるのはいわゆる以下のような図になる

![AP構成図](./../image/2018-12-31.png "AP構成図")

※ ちなみにこちらはPlantUMLで作った頑張った

何かしらのAPサーバ上のミドルウェアを立ち上げて  
立ち上げたミドルウェアのLisnerでリクエストをハンドルし、    
Webアプリケーションのサーブレット等で受け取り、
DIやらでマッピング取得された情報をもとにリクエストを  
チェックしたり業務ロジックに流し、  
業務ロジックを実施して、JSPやらレスポンスを  
返却してやるというような仕組みと思う

# 今時の構成とは

SPAは単一のページでコンテンツの切り替えを行うWeb アプリケーションのアーキテクチャなので
上記構成で実装するとなると... 

つくりとしては  
別口のサーブレットを立ち上げて、JavaScript経由でXMLリクエストを送信して  
サーブレットで受け取って、業務ロジックを実施して、レスポンスを返却する。  

うん…サーバーサイド側の図は要らなかったかもね  
SPA単体の理解であるならなおさら、ね

気を取り直して、構成を改めて考える
まずフロントエンド側、つまり画面はHTML5+XHTMLとかJSPと+JQueryか思いつく、でも今どきのSPAをJavaScriptでとなると、いわゆるVue.jsやReactなどを利用することが想定できる

で、バックエンド側、言語統一したい、となると
サーバサイド側はNode.jsになるのかな  

Node.jsといえば、こいつを使えばミドルウェアとか頼らず
Web/APサーバが作れるんだぜぇというキワモノに見える…
いっそのことフルスタックなJavaScriptMVC等の導入を  
考えた方がいいのか？  
全然わからん、使ったことないから判断できん  
いや、ここはとりあえずnode.jsとしよう

で、Viewは…HTML5+Reactとか…？
DBは…MongoDB...MySQL互換を謡ってるMariaDBじゃだめ何ですかね？  

構成はたぶん、こんな感じ？

![AP構成図2](./../image/2018-12-31_2.png "AP構成図2")

WebサーバのNode.jsとAPサーバのNode.jsは  
あいまにロードバランサをかまして  
スケールアウトしないなら要らないもんなのかも

MVCの考えが通用するのかわからないため、  
コントロール部は不明  
Node.jsのサーバサイドの動きがよくわからないので、  
Modelも不明、DBはとりあえずMongoDBに  
よし、とりあえずこれでCURDできるアプリを作って
Herokuにデプロイして動かして…みよう、頑張るぞい

![pico](./../image/2018-12-31_3.png "pico")